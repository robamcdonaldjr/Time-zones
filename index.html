<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>U.S. Time Zone Clock</title>
  <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@600&display=swap" rel="stylesheet">
  <style>
    * {
      box-sizing: border-box;
    }

    html, body {
      margin: 0;
      padding: 0;
      height: 100%;
      overflow: hidden;
      font-family: 'Orbitron', monospace;
    }

    body {
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      transition: background-image 1s ease-in-out;
      background-size: cover;
      background-position: center;
      background-repeat: no-repeat;
    }

    #overlay {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background-color: rgba(0, 0, 0, 0.5);
      pointer-events: none;
    }

    select {
      font-size: 2rem;
      padding: 10px 20px;
      margin-bottom: 30px;
      z-index: 2;
      border-radius: 10px;
    }

    .clock {
      z-index: 2;
      background-color: rgba(0, 0, 0, 0.6);
      color: white;
      padding: 30px 50px;
      font-size: 3rem;
      border-radius: 15px;
      box-shadow: 0 0 20px rgba(0,0,0,0.7);
    }

    .fade {
      animation: fadeEffect 1s ease-in-out;
    }

    @keyframes fadeEffect {
      from { opacity: 0.4; }
      to { opacity: 1; }
    }
  </style>
</head>
<body>
  <div id="overlay"></div>

  <select id="timezoneSelect">
    <option value="America/New_York">Eastern (New York)</option>
    <option value="America/Chicago">Central (Chicago)</option>
    <option value="America/Denver">Mountain (Denver)</option>
    <option value="America/Phoenix">Mountain (Phoenix - no DST)</option>
    <option value="America/Los_Angeles">Pacific (Los Angeles)</option>
    <option value="America/Anchorage">Alaska (Anchorage)</option>
    <option value="Pacific/Honolulu">Hawaii (Honolulu)</option>
  </select>

  <div class="clock" id="clockDisplay">--:--:--</div>

  <script>
    const timezoneSelect = document.getElementById('timezoneSelect');
    const clockDisplay = document.getElementById('clockDisplay');
    const body = document.body;

    const backgrounds = {
      "America/New_York": [
        "https://images.unsplash.com/photo-1570132387964-fd8eab03f04a",
        "https://images.unsplash.com/photo-1596390382722-7a4e25f7c4a4",
        "https://images.unsplash.com/photo-1532210318572-dfb1b01f0e77"
      ],
      "America/Chicago": [
        "https://images.unsplash.com/photo-1583307770673-2fa503c9baf8",
        "https://images.unsplash.com/photo-1531259683007-016a7b628fc9",
        "https://images.unsplash.com/photo-1527181152855-fc03fc7949c8"
      ],
      "America/Denver": [
        "https://images.unsplash.com/photo-1609960067230-b1c61e4016a1",
        "https://images.unsplash.com/photo-1507525428034-b723cf961d3e",
        "https://images.unsplash.com/photo-1604603260971-69e92f2f4a00"
      ],
      "America/Phoenix": [
        "https://images.unsplash.com/photo-1579977541309-2c2e729dafaf",
        "https://images.unsplash.com/photo-1552089123-2b66799da7f8",
        "https://images.unsplash.com/photo-1618500851011-b8c8a78a8c11"
      ],
      "America/Los_Angeles": [
        "https://images.unsplash.com/photo-1506744038136-46273834b3fb",
        "https://images.unsplash.com/photo-1567450935814-54a43e4cd7a7",
        "https://images.unsplash.com/photo-1496483648148-47c686dc86a8"
      ],
      "America/Anchorage": [
        "https://images.unsplash.com/photo-1598454448770-ecf84c49e4a7",
        "https://images.unsplash.com/photo-1583805251768-0f942f16e5d3",
        "https://images.unsplash.com/photo-1606117196093-7ab7f479c8f5"
      ],
      "Pacific/Honolulu": [
        "https://images.unsplash.com/photo-1507525428034-b723cf961d3e",
        "https://images.unsplash.com/photo-1600607686989-9019e972d0f5",
        "https://images.unsplash.com/photo-1596547606079-bf40ebdc70b6"
      ]
    };

    let bgIndex = 0;
    let currentTz = timezoneSelect.value;
    let bgTimer;

    function updateClock() {
      const now = new Date();
      const time = new Intl.DateTimeFormat('en-US', {
        hour: '2-digit',
        minute: '2-digit',
        second: '2-digit',
        hour12: false,
        timeZone: currentTz
      }).format(now);

      clockDisplay.textContent = time;
    }

    function changeBackground() {
      const images = backgrounds[currentTz];
      if (!images || images.length === 0) return;

      bgIndex = (bgIndex + 1) % images.length;
      const url = `${images[bgIndex]}?auto=format&fit=crop&w=1600&q=80`;
      body.classList.remove("fade");
      void body.offsetWidth; // trigger reflow
      body.classList.add("fade");
      body.style.backgroundImage = `url('${url}')`;
    }

    function startBackgroundCycle() {
      changeBackground(); // immediately show first image
      clearInterval(bgTimer);
      bgTimer = setInterval(changeBackground, 7000); // every 7 seconds
    }

    timezoneSelect.addEventListener("change", () => {
      currentTz = timezoneSelect.value;
      bgIndex = -1;
      startBackgroundCycle();
      updateClock();
    });

    // Init
    startBackgroundCycle();
    setInterval(updateClock, 1000);
    updateClock();
  </script>
</body>
</html>
